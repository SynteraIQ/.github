# ğŸ§  SynteraIQ Backend Architecture

SynteraIQ's backend is designed as a modular, multi-agent infrastructure layer that powers intelligent automation across PhysicalOps â€” in sectors like airports, railways, and ports.

Each backend service aligns with a vertical-specific agent or platform capability, all orchestrated via a common routing and auth layer.

---

## ğŸ§± Repo Structure

| Repo | Purpose |
|------|---------|
| `platform-core` | Central auth, tenant mgmt, user roles, audit logging |
| `platform-router` | Orchestration and routing logic between agents |
| `agent-capex` | Capital expenditure intake and approval automation |
| `agent-procurement` | Purchase request automation and vendor routing |
| `agent-maintenance` | Predictive/preventive maintenance workflows |
| `agent-risk` | Safety, compliance, and anomaly detection |
| `agent-ops-control` | Resource scheduling, shift handoffs (AODB/FRMS) |
| `agent-sdk` | Shared logic for GPT handling, retries, memory, tracing |
| `ml-infra` | RAG pipelines, vector stores, model endpoints (optional) |

---

## ğŸ§  Key Architecture Principles

- ğŸ§© **Modular agents**: Each agent is an isolated microservice
- ğŸ”„ **Workflow orchestration**: `platform-router` coordinates flows across agents
- ğŸ§  **GPT-native**: Agents interact through prompt + memory architecture
- ğŸ” **Multi-tenant**: Each customer/vertical is isolated via `platform-core`
- ğŸŒ **Integrations**: SAP, AODB, FRMS, GIS, AD are supported via adapters

---

## ğŸ—ƒ Agent Structure Example (`agent-capex/`)

```
agent-capex/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ main.py            # FastAPI entrypoint
â”‚   â”œâ”€â”€ websocket.py       # WebSocket GPT handler
â”‚   â”œâ”€â”€ gpt_engine.py      # GPT call logic
â”‚   â”œâ”€â”€ workflows/         # Approval logic, routing
â”‚   â”œâ”€â”€ database.py        # SQLModel/Postgres models
â”‚   â””â”€â”€ utils.py           # Retry, logging
â”œâ”€â”€ tests/
â””â”€â”€ README.md
```

---

## ğŸ”Œ Integration Touchpoints

| System | Role |
|--------|------|
| **SAP** | Internal orders, WBS, procurement |
| **AODB/FRMS** | Flight/resource context for ops workflows |
| **SSO / AD** | Secure auth & role-based access |
| **Excel / AOP Sheet** | Budget validation (via parsing API or UI upload) |
| **PostgreSQL** | Primary DB for all agents |
| **Temporal** (optional) | Durable workflows & async approvals |

---

## ğŸ“¦ Tech Stack

- FastAPI + WebSocket
- PostgreSQL (via SQLModel or SQLAlchemy)
- OpenAI / Claude / local LLMs
- Redis (optional for chat history)
- Python 3.11+
- Docker + GitHub Actions
- Future: Temporal.io (workflow durability)

---

## ğŸ“„ License

MIT Â© 2025 SynteraIQ â€” backend infrastructure for PhysicalOps automation.
